<div>
    <section class="section custom-section">
        <div class="section-header">
            <h1>Dashboard</h1>
        </div>

        <div class="section-body">
            <div class="tw-grid tw-grid-cols-1 lg:tw-grid-cols-3 tw-gap-x-0 lg:tw-gap-x-8">
                <div class="tw-col-span-1">
                    <div class="tw-flex tw-space-x-4 tw-overflow-x-auto no-scrollbar tw-pb-2 lg:tw-grid lg:tw-grid-cols-1 lg:tw-gap-x-4 lg:tw-space-x-0 lg:tw-overflow-visible tw-px-4 lg:tw-px-0 tw-pt-4 lg:tw-pt-0">
                        <div class="card tw-rounded-lg tw-shadow-md tw-shadow-gray-200 tw-border tw-border-gray-100 tw-overflow-hidden tw-min-w-[280px] tw-flex-shrink-0 lg:tw-min-w-0 lg:tw-flex-shrink">
                            <div class="card-body tw-px-4 font-bagus tw-relative tw-bg-white">
                                <!-- Decorative -->
                                <div class="tw-absolute tw-top-0 tw-right-0 tw-w-20 tw-h-20 tw-bg-indigo-100/50 tw-rounded-full -tw-mr-6 -tw-mt-6"></div>

                                <!-- Header -->
                                <div class="tw-flex tw-items-center tw-space-x-2 tw-mb-4 tw-relative tw-z-10">
                                    <div class="tw-w-8 tw-h-8 tw-rounded-lg tw-bg-indigo-500/20 tw-flex tw-items-center tw-justify-center">
                                        <i class="fas fa-bolt tw-text-indigo-600 tw-text-sm"></i>
                                    </div>
                                    <h3 class="tw-font-semibold tw-text-base tw-m-0 tw-text-gray-700">Pemakaian kWh</h3>
                                </div>

                                <!-- Stats -->
                                <div class="tw-grid tw-grid-cols-2 tw-gap-3 tw-relative tw-z-10">
                                    <div class="tw-bg-white tw-rounded-xl tw-p-3 tw-border tw-border-gray-100 tw-shadow-sm">
                                        <div class="tw-flex tw-items-center tw-justify-between tw-mb-1">
                                            <span class="tw-text-gray-400 tw-text-xs">Hari Ini</span>
                                            <i class="fas fa-bolt tw-text-yellow-400 tw-text-xs"></i>
                                        </div>
                                        <p class="tw-text-xl tw-font-bold tw-text-gray-700 tw-m-0">
                                            42.1
                                            <span class="tw-text-sm tw-font-normal tw-text-gray-400">kWh</span>
                                        </p>
                                    </div>
                                    <div class="tw-bg-white tw-rounded-xl tw-p-3 tw-border tw-border-gray-100 tw-shadow-sm">
                                        <div class="tw-flex tw-items-center tw-justify-between tw-mb-1">
                                            <span class="tw-text-gray-400 tw-text-xs">Bulan Ini</span>
                                            <i class="fas fa-calendar tw-text-indigo-400 tw-text-xs"></i>
                                        </div>
                                        <p class="tw-text-xl tw-font-bold tw-text-gray-700 tw-m-0">
                                            342.16
                                            <span class="tw-text-sm tw-font-normal tw-text-gray-400">kWh</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card tw-rounded-lg tw-shadow-md tw-shadow-gray-200 tw-border tw-border-gray-100 tw-overflow-hidden tw-mt-0 tw-min-w-[280px] tw-flex-shrink-0 lg:tw-min-w-0 lg:tw-flex-shrink">
                            <div class="card-body tw-px-4 font-bagus tw-relative tw-bg-white">
                                <!-- Decorative -->
                                <div class="tw-absolute tw-top-0 tw-right-0 tw-w-20 tw-h-20 tw-bg-red-100/50 tw-rounded-full -tw-mr-6 -tw-mt-6"></div>

                                <!-- Header -->
                                <div class="tw-flex tw-items-center tw-space-x-2 tw-mb-4 tw-relative tw-z-10">
                                    <div class="tw-w-8 tw-h-8 tw-rounded-lg tw-bg-red-500/20 tw-flex tw-items-center tw-justify-center">
                                        <i class="fas fa-wallet tw-text-red-600 tw-text-sm"></i>
                                    </div>
                                    <h3 class="tw-font-semibold tw-text-base tw-m-0 tw-text-gray-700">Estimasi Biaya</h3>
                                </div>

                                <!-- Amount -->
                                <div class="tw-bg-white tw-rounded-xl tw-p-4 tw-border tw-border-gray-100 tw-shadow-sm tw-relative tw-z-10">
                                    <p class="tw-text-2xl tw-font-bold tw-text-gray-700 tw-m-0">Rp 512.400</p>
                                    <p class="tw-text-xs tw-text-gray-400 tw-m-0 tw-mt-1">Bulan ini (per kWh Rp 1.500)</p>
                                </div>
                            </div>
                        </div>
                        <div class="card tw-rounded-lg tw-shadow-md tw-shadow-gray-200 tw-mt-0 tw-overflow-hidden tw-border tw-border-gray-100 tw-min-w-[280px] tw-flex-shrink-0 lg:tw-min-w-0 lg:tw-flex-shrink">
                            <div class="card-body tw-px-4 font-bagus tw-relative tw-bg-white">
                                <!-- Decorative -->
                                <div class="tw-absolute tw-top-0 tw-right-0 tw-w-24 tw-h-24 tw-bg-teal-100/50 tw-rounded-full -tw-mr-8 -tw-mt-8"></div>
                                <div class="tw-absolute tw-bottom-0 tw-left-0 tw-w-16 tw-h-16 tw-bg-cyan-100/50 tw-rounded-full -tw-ml-6 -tw-mb-6"></div>

                                <!-- Header -->
                                <div class="tw-flex tw-items-center tw-justify-between tw-mb-4 tw-relative tw-z-10">
                                    <div class="tw-flex tw-items-center tw-space-x-2">
                                        <div class="tw-w-8 tw-h-8 tw-rounded-lg tw-bg-teal-500/20 tw-flex tw-items-center tw-justify-center">
                                            <i class="fas fa-microchip tw-text-teal-600 tw-text-sm"></i>
                                        </div>
                                        <div>
                                            <h3 class="tw-font-semibold tw-text-base tw-m-0 tw-text-gray-700">Suhu Ruangan</h3>
                                            <p class="tw-text-xs tw-text-gray-400 tw-m-0">R. Teras</p>
                                        </div>
                                    </div>
                                    <div class="tw-flex tw-items-center tw-space-x-1 tw-bg-green-100 tw-rounded-full tw-px-2 tw-py-1">
                                        <span class="tw-w-2 tw-h-2 tw-bg-green-500 tw-rounded-full tw-animate-pulse"></span>
                                        <span class="tw-text-xs tw-text-green-600 tw-font-medium">Online</span>
                                    </div>
                                </div>

                                <!-- Sensor Data -->
                                <div class="tw-grid tw-grid-cols-2 tw-gap-3 tw-relative tw-z-10">
                                    <!-- Temperature -->
                                    <div class="tw-bg-white tw-rounded-xl tw-p-3 tw-border tw-border-gray-100 tw-shadow-sm">
                                        <div class="tw-flex tw-items-center tw-justify-between tw-mb-2">
                                            <span class="tw-text-gray-400 tw-text-xs">Suhu</span>
                                            <i class="fas fa-temperature-high tw-text-orange-400 tw-text-sm"></i>
                                        </div>
                                        <p class="tw-text-2xl tw-font-bold tw-text-gray-700 tw-m-0">
                                            28.5
                                            <span class="tw-text-sm tw-font-normal tw-text-gray-400">째C</span>
                                        </p>
                                    </div>

                                    <!-- Humidity -->
                                    <div class="tw-bg-white tw-rounded-xl tw-p-3 tw-border tw-border-gray-100 tw-shadow-sm">
                                        <div class="tw-flex tw-items-center tw-justify-between tw-mb-2">
                                            <span class="tw-text-gray-400 tw-text-xs">Kelembaban</span>
                                            <i class="fas fa-droplet tw-text-cyan-400 tw-text-sm"></i>
                                        </div>
                                        <p class="tw-text-2xl tw-font-bold tw-text-gray-700 tw-m-0">
                                            65
                                            <span class="tw-text-sm tw-font-normal tw-text-gray-400">%</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tw-col-span-2">
                    <div class="tw-flex tw-space-x-2.5 tw-w-auto no-scrollbar tw-overflow-x-auto tw-whitespace-nowrap tw-px-4 lg:tw-px-0 tw-pb-2">
                        <button class="btn btn-transparent tw-border-2 tw-border-gray-300 tw-border-dashed font-bagus tw-text-gray-500 tw-px-4 tw-py-1.5 tw-rounded-xl" data-toggle="modal" data-target="#formRuanganModal">
                            <i class="fas fa-plus mx-2"></i>
                            <span class="tw-mr-2">Kelola Ruangan</span>
                        </button>
                        @foreach ($data as $item)
                            <button wire:click="selectRoom({{ $item->id }})" class="tw-group btn tw-px-5 tw-py-3 tw-rounded-xl tw-shadow-sm hover:tw-shadow-md tw-transition-all tw-duration-200 tw-flex tw-items-center tw-border {{ $selectedRoomId == $item->id ? "btn-primary tw-text-white" : "tw-bg-white hover:tw-bg-gray-50 tw-text-gray-500 tw-border-gray-100 hover:tw-border-blue-200" }}">
                                <div class="tw-mr-3 tw-flex tw-items-center tw-justify-center tw-transition-colors {{ $selectedRoomId == $item->id ? "tw-text-white" : "tw-text-blue-500 group-hover:tw-text-blue-600" }}">
                                    <i class="far fa-home tw-text-2xl"></i>
                                </div>
                                <div class="tw-text-left">
                                    <p class="font-bagus tw-text-sm tw-m-0 tw-leading-tight tw-transition-colors {{ $selectedRoomId == $item->id ? "tw-font-bold tw-text-white" : "tw-text-gray-800 tw-font-normal group-hover:tw-text-blue-700" }}">
                                        {{ $item->nama_ruang }}
                                    </p>
                                    <p class="tw-text-xs tw-m-0 tw-mt-0.5 tw-font-normal {{ $selectedRoomId == $item->id ? "tw-text-blue-100" : "tw-text-gray-400" }}">2 Perangkat</p>
                                </div>
                            </button>
                        @endforeach
                    </div>
                    <div class="tw-px-4 lg:tw-px-0 tw-mt-6 font-bagus">
                        <!-- AC Remote Section -->
                        <h3 class="tw-text-base tw-mt-0">Remote</h3>
                        <div class="tw-grid tw-grid-cols-1 lg:tw-grid-cols-2 tw-gap-4 tw-mt-4">
                            <!-- AC Card -->
                            <div class="card tw-rounded-xl tw-shadow-sm tw-shadow-gray-200 tw-border tw-border-gray-100" x-data="{ isOn: false, temp: 24, mode: 'cool' }">
                                <div class="card-body tw-p-5 font-bagus tw-bg-white tw-rounded-xl">
                                    <!-- Header -->
                                    <div class="tw-flex tw-items-center tw-justify-between tw-mb-4">
                                        <div class="tw-flex tw-items-center tw-space-x-3">
                                            <div class="tw-w-10 tw-h-10 tw-rounded-xl tw-bg-gray-100 tw-flex tw-items-center tw-justify-center">
                                                <i class="fas fa-wind tw-text-gray-500"></i>
                                            </div>
                                            <div>
                                                <p class="tw-font-semibold tw-text-gray-800 tw-m-0">AC Ruang Tamu</p>
                                                <p class="tw-text-xs tw-text-gray-400 tw-m-0">Daikin Inverter</p>
                                            </div>
                                        </div>
                                        <label class="tw-relative tw-inline-flex tw-items-center tw-cursor-pointer">
                                            <input type="checkbox" class="tw-sr-only tw-peer" x-model="isOn" />
                                            <div class="tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all peer-checked:tw-bg-blue-500"></div>
                                        </label>
                                    </div>

                                    <!-- Temperature Display -->
                                    <div class="tw-text-center tw-py-6 tw-bg-gray-50 tw-rounded-xl tw-mb-4">
                                        <p class="tw-text-5xl tw-font-bold tw-m-0 tw-transition-colors" :class="isOn ? 'tw-text-gray-800' : 'tw-text-gray-300'" x-text="temp + '째C'"></p>
                                        <p class="tw-text-sm tw-text-gray-400 tw-m-0 tw-mt-2">Suhu</p>
                                    </div>

                                    <!-- Temperature Controls -->
                                    <div class="tw-flex tw-items-center tw-justify-between tw-mb-4">
                                        <button @click="temp > 16 ? temp-- : null" :disabled="!isOn" class="tw-w-12 tw-h-12 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-text-xl tw-font-bold tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40 disabled:tw-cursor-not-allowed" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <div class="tw-flex tw-items-center tw-space-x-1 tw-text-gray-400 tw-text-xs">
                                            <span>16째C</span>
                                            <div class="tw-w-24 tw-h-1 tw-bg-gray-200 tw-rounded-full tw-mx-2">
                                                <div class="tw-h-full tw-bg-blue-400 tw-rounded-full tw-transition-all" :style="'width: ' + ((temp - 16) / 14 * 100) + '%'"></div>
                                            </div>
                                            <span>30째C</span>
                                        </div>
                                        <button @click="temp < 30 ? temp++ : null" :disabled="!isOn" class="tw-w-12 tw-h-12 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-text-xl tw-font-bold tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40 disabled:tw-cursor-not-allowed" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>

                                    <!-- Mode Buttons -->
                                    <div class="tw-grid tw-grid-cols-4 tw-gap-2">
                                        <button @click="mode = 'cool'" :disabled="!isOn" class="tw-flex tw-flex-col tw-items-center tw-p-3 tw-rounded-xl tw-border tw-transition-all tw-duration-200" :class="mode === 'cool' && isOn ? 'tw-bg-blue-50 tw-border-blue-200 tw-text-blue-500' : 'tw-bg-white tw-border-gray-100 tw-text-gray-400'">
                                            <i class="fas fa-snowflake tw-text-lg tw-mb-1"></i>
                                            <span class="tw-text-[10px]">Cool</span>
                                        </button>
                                        <button @click="mode = 'fan'" :disabled="!isOn" class="tw-flex tw-flex-col tw-items-center tw-p-3 tw-rounded-xl tw-border tw-transition-all tw-duration-200" :class="mode === 'fan' && isOn ? 'tw-bg-blue-50 tw-border-blue-200 tw-text-blue-500' : 'tw-bg-white tw-border-gray-100 tw-text-gray-400'">
                                            <i class="fas fa-fan tw-text-lg tw-mb-1"></i>
                                            <span class="tw-text-[10px]">Fan</span>
                                        </button>
                                        <button @click="mode = 'dry'" :disabled="!isOn" class="tw-flex tw-flex-col tw-items-center tw-p-3 tw-rounded-xl tw-border tw-transition-all tw-duration-200" :class="mode === 'dry' && isOn ? 'tw-bg-blue-50 tw-border-blue-200 tw-text-blue-500' : 'tw-bg-white tw-border-gray-100 tw-text-gray-400'">
                                            <i class="fas fa-droplet tw-text-lg tw-mb-1"></i>
                                            <span class="tw-text-[10px]">Dry</span>
                                        </button>
                                        <button @click="mode = 'auto'" :disabled="!isOn" class="tw-flex tw-flex-col tw-items-center tw-p-3 tw-rounded-xl tw-border tw-transition-all tw-duration-200" :class="mode === 'auto' && isOn ? 'tw-bg-blue-50 tw-border-blue-200 tw-text-blue-500' : 'tw-bg-white tw-border-gray-100 tw-text-gray-400'">
                                            <i class="fas fa-rotate tw-text-lg tw-mb-1"></i>
                                            <span class="tw-text-[10px]">Auto</span>
                                        </button>
                                    </div>

                                    <!-- Stats -->
                                    <div class="tw-flex tw-items-center tw-justify-center tw-space-x-4 tw-mt-4 tw-pt-4 tw-border-t tw-border-gray-100 tw-text-xs tw-text-gray-400">
                                        <div class="tw-flex tw-items-center">
                                            <i class="far fa-clock tw-mr-1.5"></i>
                                            <span>2h 15m hari ini</span>
                                        </div>
                                        <div class="tw-flex tw-items-center">
                                            <i class="fas fa-bolt tw-mr-1.5 tw-text-yellow-400"></i>
                                            <span>1.8 kWh</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- TV Remote Card -->
                            <div class="card tw-rounded-xl tw-shadow-sm tw-shadow-gray-200 tw-border tw-border-gray-100" x-data="{ isOn: false, volume: 25, channel: 5, source: 'hdmi1' }">
                                <div class="card-body tw-p-5 font-bagus tw-bg-white tw-rounded-xl">
                                    <!-- Header -->
                                    <div class="tw-flex tw-items-center tw-justify-between tw-mb-4">
                                        <div class="tw-flex tw-items-center tw-space-x-3">
                                            <div class="tw-w-10 tw-h-10 tw-rounded-xl tw-bg-gray-100 tw-flex tw-items-center tw-justify-center">
                                                <i class="fas fa-tv tw-text-gray-500"></i>
                                            </div>
                                            <div>
                                                <p class="tw-font-semibold tw-text-gray-800 tw-m-0">TV Ruang Tamu</p>
                                                <p class="tw-text-xs tw-text-gray-400 tw-m-0">Samsung Smart TV</p>
                                            </div>
                                        </div>
                                        <label class="tw-relative tw-inline-flex tw-items-center tw-cursor-pointer">
                                            <input type="checkbox" class="tw-sr-only tw-peer" x-model="isOn" />
                                            <div class="tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all peer-checked:tw-bg-blue-500"></div>
                                        </label>
                                    </div>

                                    <!-- Volume & Channel Controls -->
                                    <div class="tw-grid tw-grid-cols-2 tw-gap-4 tw-mb-4">
                                        <!-- Volume -->
                                        <div class="tw-bg-gray-50 tw-rounded-xl tw-p-3">
                                            <p class="tw-text-xs tw-text-gray-400 tw-m-0 tw-mb-2 tw-text-center">Volume</p>
                                            <div class="tw-flex tw-items-center tw-justify-between">
                                                <button @click="volume > 0 ? volume-- : null" :disabled="!isOn" class="tw-w-8 tw-h-8 tw-rounded-lg tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                    <i class="fas fa-volume-down tw-text-xs"></i>
                                                </button>
                                                <span class="tw-text-xl tw-font-bold" :class="isOn ? 'tw-text-gray-800' : 'tw-text-gray-300'" x-text="volume"></span>
                                                <button @click="volume < 100 ? volume++ : null" :disabled="!isOn" class="tw-w-8 tw-h-8 tw-rounded-lg tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                    <i class="fas fa-volume-up tw-text-xs"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <!-- Channel -->
                                        <div class="tw-bg-gray-50 tw-rounded-xl tw-p-3">
                                            <p class="tw-text-xs tw-text-gray-400 tw-m-0 tw-mb-2 tw-text-center">Channel</p>
                                            <div class="tw-flex tw-items-center tw-justify-between">
                                                <button @click="channel > 1 ? channel-- : null" :disabled="!isOn" class="tw-w-8 tw-h-8 tw-rounded-lg tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                    <i class="fas fa-chevron-down tw-text-xs"></i>
                                                </button>
                                                <span class="tw-text-xl tw-font-bold" :class="isOn ? 'tw-text-gray-800' : 'tw-text-gray-300'" x-text="channel"></span>
                                                <button @click="channel < 999 ? channel++ : null" :disabled="!isOn" class="tw-w-8 tw-h-8 tw-rounded-lg tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                    <i class="fas fa-chevron-up tw-text-xs"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Quick Actions -->
                                    <p class="tw-text-xs tw-text-gray-400 tw-m-0 tw-mb-2 tw-mt-4">Navigasi</p>
                                    <div class="tw-flex tw-items-center tw-justify-center tw-gap-3">
                                        <!-- Quick Buttons Left -->
                                        <div class="tw-flex tw-flex-col tw-gap-2">
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-home tw-text-sm"></i>
                                            </button>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-arrow-left tw-text-sm"></i>
                                            </button>
                                        </div>

                                        <!-- D-Pad -->
                                        <div class="tw-grid tw-grid-cols-3 tw-gap-1">
                                            <div></div>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-chevron-up tw-text-sm"></i>
                                            </button>
                                            <div></div>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-chevron-left tw-text-sm"></i>
                                            </button>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-blue-200 tw-bg-blue-50 tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-blue-100 disabled:tw-opacity-40" :class="isOn ? 'tw-text-blue-500' : 'tw-text-gray-300'">
                                                <span class="tw-text-[9px] tw-font-bold">OK</span>
                                            </button>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-chevron-right tw-text-sm"></i>
                                            </button>
                                            <div></div>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-chevron-down tw-text-sm"></i>
                                            </button>
                                            <div></div>
                                        </div>

                                        <!-- Quick Buttons Right -->
                                        <div class="tw-flex tw-flex-col tw-gap-2">
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-gray-600' : 'tw-text-gray-300'">
                                                <i class="fas fa-bars tw-text-sm"></i>
                                            </button>
                                            <button :disabled="!isOn" class="tw-w-10 tw-h-10 tw-rounded-xl tw-border tw-border-gray-200 tw-bg-white tw-flex tw-items-center tw-justify-center tw-transition-all hover:tw-bg-gray-50 disabled:tw-opacity-40" :class="isOn ? 'tw-text-red-500' : 'tw-text-gray-300'">
                                                <i class="fas fa-volume-xmark tw-text-sm"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Stats -->
                                    <div class="tw-flex tw-items-center tw-justify-center tw-space-x-4 tw-mt-4 tw-pt-4 tw-border-t tw-border-gray-100 tw-text-xs tw-text-gray-400">
                                        <div class="tw-flex tw-items-center">
                                            <i class="far fa-clock tw-mr-1.5"></i>
                                            <span>3h 45m hari ini</span>
                                        </div>
                                        <div class="tw-flex tw-items-center">
                                            <i class="fas fa-bolt tw-mr-1.5 tw-text-yellow-400"></i>
                                            <span>0.5 kWh</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h3 class="tw-text-base">Perangkat Terhubung</h3>
                        <div class="tw-grid tw-grid-cols-2 lg:tw-grid-cols-3 tw-mt-4 tw-gap-4">
                            <!-- Lamp Cards -->
                            @for ($i = 1; $i <= 4; $i++)
                                <div class="card tw-rounded-xl tw-shadow-sm tw-shadow-gray-200 tw-border tw-border-gray-100 hover:tw-shadow-md tw-transition-shadow tw-duration-200">
                                    <div class="card-body tw-rounded-xl tw-px-4 lg:tw-px-4 tw-text-center font-bagus tw-bg-gradient-to-br tw-from-white tw-to-slate-50">
                                        <div class="tw-flex tw-items-center" x-data="{ isOn: false }">
                                            <span class="tw-text-xs tw-font-medium tw-px-2 tw-py-0.5 tw-rounded-full" :class="isOn ? 'tw-bg-green-100 tw-text-green-600' : 'tw-bg-gray-100 tw-text-gray-500'" x-text="isOn ? 'ON' : 'OFF'"></span>
                                            <label class="tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-ml-auto">
                                                <input type="checkbox" class="tw-sr-only tw-peer" x-model="isOn" />
                                                <div class="tw-w-9 tw-h-5 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-4 after:tw-w-4 after:tw-transition-all peer-checked:tw-bg-blue-500"></div>
                                            </label>
                                        </div>
                                        <div class="tw-space-y-2 tw-my-3">
                                            <div class="tw-w-14 tw-h-14 tw-mx-auto tw-rounded-full tw-bg-amber-50 tw-flex tw-items-center tw-justify-center">
                                                <i class="fas fa-lightbulb tw-text-2xl tw-text-amber-400"></i>
                                            </div>
                                            <p class="tw-font-medium tw-text-gray-700 tw-m-0">Lampu {{ $i }}</p>
                                            <div class="tw-flex tw-items-center tw-justify-center tw-space-x-3 tw-mt-3 tw-text-xs">
                                                <div class="tw-flex tw-items-center tw-text-gray-400" title="Waktu Pemakaian Hari Ini">
                                                    <i class="far fa-clock tw-mr-1"></i>
                                                    <span>5h 23m</span>
                                                </div>
                                                <div class="tw-flex tw-items-center tw-text-gray-400" title="Penggunaan Listrik Hari Ini">
                                                    <i class="fas fa-bolt tw-mr-1 tw-text-yellow-400"></i>
                                                    <span>3.2 kWh</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            @endfor
                        </div>
                    </div>
                </div>
            </div>

            <button wire:click.prevent="isEditingMode(false)" class="btn-modal" data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#formDeviceModal">
                <i class="far fa-plus"></i>
            </button>
        </div>
    </section>

    <div class="modal fade" wire:ignore.self id="formRuanganModal" aria-labelledby="formRuanganModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg tw-w-full tw-m-0 sm:tw-w-auto sm:tw-m-[1.75rem_auto]">
            <div class="modal-content tw-rounded-none lg:tw-rounded-md">
                <div class="modal-header tw-px-4 lg:tw-px-6 tw-border-b-0">
                    <h5 class="modal-title tw-font-semibold" id="formRuanganModalLabel">
                        <i class="far fa-door-open tw-mr-2 tw-text-blue-500"></i>
                        Kelola Ruangan
                    </h5>
                    <button type="button" wire:click="cancel()" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body tw-px-4 lg:tw-px-6 tw-pt-0">
                    <!-- Nav Pills Tabs -->
                    <ul class="nav nav-pills tw-my-3 tw-bg-gray-100 tw-p-1 tw-rounded-lg" id="ruanganTabs" role="tablist">
                        <li class="nav-item tw-flex-1">
                            <a class="nav-link tw-text-center tw-rounded-md {{ ! $isEditing ? "active" : "" }}" id="list-tab" data-toggle="pill" href="#listRuangan" role="tab">
                                <i class="far fa-list tw-mr-1"></i>
                                Daftar Ruangan
                            </a>
                        </li>
                        <li class="nav-item tw-flex-1">
                            <a class="nav-link tw-text-center tw-rounded-md {{ $isEditing ? "active" : "" }}" id="form-tab" data-toggle="pill" href="#formRuangan" role="tab">
                                <i class="far fa-{{ $isEditing ? "edit" : "plus" }} tw-mr-1"></i>
                                {{ $isEditing ? "Edit Ruangan" : "Tambah" }}
                            </a>
                        </li>
                    </ul>

                    <!-- Tab Contents -->
                    <div class="tab-content" id="ruanganTabsContent">
                        <!-- List Tab -->
                        <div class="tab-pane fade {{ ! $isEditing ? "show active" : "" }}" id="listRuangan" role="tabpanel">
                            <div class="tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 tw-gap-3 tw-max-h-auto tw-overflow-y-auto tw-pr-1">
                                @forelse ($data as $item)
                                    <div class="tw-bg-white tw-border tw-border-gray-200 tw-rounded-xl tw-p-4 tw-shadow-sm hover:tw-shadow-md tw-transition-all tw-duration-200">
                                        <div class="tw-flex tw-items-start tw-justify-between">
                                            <div class="tw-flex tw-items-center tw-space-x-3">
                                                <div class="tw-w-10 tw-h-10 tw-rounded-xl tw-bg-blue-100 tw-flex tw-items-center tw-justify-center">
                                                    <i class="far fa-home tw-text-blue-500"></i>
                                                </div>
                                                <div>
                                                    <p class="tw-font-semibold tw-text-gray-800 tw-m-0">{{ $item->nama_ruang }}</p>
                                                    <p class="tw-text-xs tw-text-gray-400 tw-m-0 tw-mt-0.5">
                                                        <i class="far fa-microchip tw-mr-1"></i>
                                                        {{ $item->device_count ?? 0 }} Perangkat
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="tw-flex tw-items-center tw-space-x-1">
                                                <button wire:click="edit({{ $item->id }})" class="tw-w-8 tw-h-8 tw-rounded-lg tw-bg-amber-50 tw-text-amber-500 tw-flex tw-items-center tw-justify-center hover:tw-bg-amber-100 tw-transition-colors tw-border-0">
                                                    <i class="far fa-edit tw-text-sm"></i>
                                                </button>
                                                <button wire:click="deleteConfirm({{ $item->id }})" class="tw-w-8 tw-h-8 tw-rounded-lg tw-bg-red-50 tw-text-red-500 tw-flex tw-items-center tw-justify-center hover:tw-bg-red-100 tw-transition-colors tw-border-0">
                                                    <i class="far fa-trash tw-text-sm"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                @empty
                                    <div class="tw-col-span-2 tw-text-center tw-py-8">
                                        <div class="tw-w-16 tw-h-16 tw-mx-auto tw-rounded-full tw-bg-gray-100 tw-flex tw-items-center tw-justify-center tw-mb-3">
                                            <i class="far fa-inbox tw-text-2xl tw-text-gray-400"></i>
                                        </div>
                                        <p class="tw-text-gray-500 tw-m-0">Belum ada ruangan</p>
                                        <p class="tw-text-xs tw-text-gray-400 tw-m-0">Klik tab "Tambah Ruangan" untuk menambahkan</p>
                                    </div>
                                @endforelse
                            </div>
                            @if ($data->hasPages())
                                <div class="tw-mt-4 tw-pt-3 tw-border-t tw-border-gray-100">
                                    {{ $data->links() }}
                                </div>
                            @endif
                        </div>

                        <!-- Form Tab -->
                        <div class="tab-pane fade {{ $isEditing ? "show active" : "" }}" id="formRuangan" role="tabpanel">
                            <form>
                                <div class="tw-bg-gray-50 tw-rounded-xl tw-p-4">
                                    <div class="form-group tw-mb-0">
                                        <label for="nama_ruang" class="tw-text-sm tw-font-medium tw-text-gray-700">
                                            <i class="far fa-tag tw-mr-1 tw-text-blue-500"></i>
                                            Nama Ruangan
                                        </label>
                                        <input type="text" wire:model="nama_ruang" id="nama_ruang" class="form-control tw-rounded-lg tw-border-gray-200 focus:tw-border-blue-400 focus:tw-ring focus:tw-ring-blue-200 focus:tw-ring-opacity-50" placeholder="Contoh: Ruang Tamu, Kamar Tidur..." />
                                        @error("nama_ruang")
                                            <small class="tw-text-red-500">{{ $message }}</small>
                                        @enderror
                                    </div>
                                </div>
                                <div class="tw-flex tw-justify-end tw-space-x-2 tw-mt-4">
                                    @if ($isEditing)
                                        <button type="button" wire:click="cancel()" class="btn tw-bg-gray-100 tw-text-gray-600 tw-rounded-lg tw-px-4 hover:tw-bg-gray-200 tw-transition-colors">
                                            <i class="far fa-times tw-mr-1"></i>
                                            Batal
                                        </button>
                                    @endif

                                    <button type="submit" wire:click.prevent="{{ $isEditing ? "update()" : "store()" }}" wire:loading.attr="disabled" class="btn btn-primary tw-bg-blue-500 tw-rounded-lg tw-px-4 hover:tw-bg-blue-600 tw-transition-colors">
                                        <i class="far fa-{{ $isEditing ? "save" : "plus" }} tw-mr-1"></i>
                                        <span wire:loading.remove>{{ $isEditing ? "Simpan Perubahan" : "Tambah Ruangan" }}</span>
                                        <span wire:loading>Menyimpan...</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" wire:ignore.self id="formDeviceModal" aria-labelledby="formDeviceModalLabel" aria-hidden="true">
        <div class="modal-dialog tw-w-full tw-m-0 sm:tw-w-auto sm:tw-m-[1.75rem_auto]">
            <div class="modal-content tw-rounded-none lg:tw-rounded-md">
                <div class="modal-header tw-px-4 lg:tw-px-6">
                    <h5 class="modal-title" id="formDeviceModalLabel">
                        {{ $isEditing ? "Edit Data" : "Add Data" }}
                    </h5>
                    <button type="button" wire:click="cancel()" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form>
                    <div class="modal-body tw-px-4 lg:tw-px-6">
                        <div class="form-group">
                            <label for="nama_perangkat">Nama Perangkat</label>
                            <input type="text" wire:model="nama_perangkat" id="nama_perangkat" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label for="topic">topic</label>
                            <textarea wire:model="topic" id="topic" class="form-control" style="height: 100px !important"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" wire:click="cancel()" class="btn btn-secondary tw-bg-gray-300" data-dismiss="modal">Close</button>
                        <button type="submit" wire:click.prevent="{{ $isEditing ? "update()" : "store()" }}" wire:loading.attr="disabled" class="btn btn-primary tw-bg-blue-500">Save Data</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
